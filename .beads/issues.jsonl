{"id":"asom-data-template-4lg","title":"Load AWS CUR for trend analysis","description":"Epic: CUR pipeline. Extract Parquet from S3, transform with billing period filtering, MERGE into Snowflake curated layer.","status":"closed","priority":2,"issue_type":"task","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:03:44.684509+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:11:42.293232+01:00","closed_at":"2026-02-08T09:11:42.293232+01:00","close_reason":"Test issue - cleaning up for dry run"}
{"id":"asom-data-template-chr","title":"Sprint 1: AWS CUR Pipeline for Cost Trend Analysis","description":"Load AWS CUR Parquet data into local DuckDB (dev) / Snowflake (prod). Provide daily and service-level cost trend analysis. PII: None. Data classification: Internal-Confidential (cost data).","status":"open","priority":1,"issue_type":"epic","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:14:38.24079+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:14:38.24079+01:00","comments":[{"id":1,"issue_id":"asom-data-template-chr","author":"mcgrath","text":"[Governance Agent] Unified Kickoff Assessment -- Sprint 1\n\n== CONTROL APPLICABILITY ==\n\nApplicable controls for CUR Pipeline:\n- C-01 (Change Authorisation): Yes -- all code changes require PR + G1 gate\n- C-02 (Separation of Duties): Yes -- Dev drafts, QA validates, Human approves\n- C-03 (Traceability): Yes -- Jira story linked to PR, AC present\n- C-04 (Data Classification): Yes -- CUR data is Internal-Confidential (cost data)\n  * No PII in scope (AWS account IDs, service names, costs)\n- C-05 (Access Control): Yes -- RBAC on Snowflake schemas in DEV/QA/PROD\n- C-06 (DQ Controls): Yes -- Cost data requires completeness and range checks\n- C-07 (Reproducibility): Yes -- Deterministic loads, idempotent design\n- C-08 (Testing): Yes -- TDD mandatory, T1-T8 as applicable\n- C-09 (Observability): Deferred -- No alerting in Sprint 1 (local-first)\n- C-10 (Cost Guardrails): Deferred -- No Snowflake in Sprint 1\n- C-11 (Emergency Override): Not applicable unless triggered\n\nEvidence plan: 8 controls require evidence before G3\n\n== PDL IMPACT ASSESSMENT ==\n\nRequirements:        PRODUCED (via stories + ACs) | C-03\nArchitecture:        UPDATE REQUIRED | C-03\n  -\u003e T001: Document CUR pipeline architecture (raw -\u003e curated -\u003e analytics)\n  -\u003e Assigned to: Dev Agent\nTest Strategy:       REFERENCED (Master v2.1) | C-06, C-08\nIQ Evidence:         PRODUCED (via TDD test results) | C-06\nOQ Evidence:         REQUIRED | C-06\n  -\u003e T002: Create OQ test suite (business rule validation)\n  -\u003e Assigned to: QA Agent\nITOH:                UPDATE REQUIRED | C-09\n  -\u003e T003: Document CUR pipeline runbook (load schedule, failure handling)\n  -\u003e Assigned to: Dev Agent\nData Classification: PRODUCED (Internal-Confidential, no PII) | C-04\nChange Request:      PRODUCED (at G3) | C-01\n\nPDL Tasks: T001-T003 created and assigned\nPDL Status: 38% complete (3 tasks to track, 5 items auto-produced)","created_at":"2026-02-08T08:15:10Z"},{"id":2,"issue_id":"asom-data-template-chr","author":"mcgrath","text":"[BA Agent] Stories created for Sprint 1\n\nStories:\n- S001 (asom-data-template-chr.4): Load CUR Parquet files into raw layer\n- S002 (asom-data-template-chr.5): Transform CUR data into daily cost summary\n- S003 (asom-data-template-chr.6): Build cost analytics query layer\n\nDependencies:\n- S002 depends on S001 (needs raw data)\n- S003 depends on S002 (needs curated data)\n\nControls mapped per story. Test taxonomy markers applied.\nAll stories have acceptance criteria.\n\nHandoff to: Scrum Master for DoR validation, then Dev Agent for implementation.","created_at":"2026-02-08T08:23:20Z"},{"id":3,"issue_id":"asom-data-template-chr","author":"mcgrath","text":"[Scrum Master] Sprint 1 DoR Validation\n\nDefinition of Ready checklist:\n- Stories have acceptance criteria: YES (S001: 5 ACs, S002: 5 ACs, S003: 4 ACs)\n- Dependencies mapped: YES (S001 -\u003e S002 -\u003e S003)\n- Controls identified: YES (C-01 through C-08 applicable)\n- PDL tasks created: YES (T001-T003 assigned)\n- Test taxonomy markers: YES (T1, T2, T3, T5, T8)\n- Priority assigned: YES (S001/S002: P1, S003: P2)\n- Assignees set: YES (Dev Agent: S001-S003 + T001/T003, QA Agent: T002)\n\nSprint plan:\n- Committed: 3 stories + 3 PDL tasks\n- Duration: 2 weeks\n- Gate readiness: G1 per PR, G3 at sprint end\n- Evidence plan: 8 controls to satisfy\n- PDL plan: 3 tasks tracked (T001-T003), 5 items auto-produced\n\nSprint 1 ready to begin. Dev Agent to start with S001.","created_at":"2026-02-08T08:26:07Z"}]}
{"id":"asom-data-template-chr.1","title":"T001: Document CUR pipeline architecture","description":"Document the CUR pipeline architecture: raw Parquet ingestion -\u003e curated layer -\u003e analytics views. Include data flow diagram, schema decisions, and DuckDB/Snowflake compatibility notes.","status":"open","priority":2,"issue_type":"task","assignee":"dev-agent","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:18:15.478104+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:18:15.478104+01:00","labels":["control:C-03","pdl:architecture"],"dependencies":[{"issue_id":"asom-data-template-chr.1","depends_on_id":"asom-data-template-chr","type":"parent-child","created_at":"2026-02-08T09:18:15.479483+01:00","created_by":"mcgrath"}]}
{"id":"asom-data-template-chr.2","title":"T002: Create OQ test suite for CUR business rules","description":"Validate business rules: daily cost aggregation, service-level rollup, trend calculation accuracy. OQ evidence for C-06.","status":"open","priority":2,"issue_type":"task","assignee":"qa-agent","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:18:29.468727+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:18:29.468727+01:00","labels":["control:C-06","pdl:oq-evidence","test:T3"],"dependencies":[{"issue_id":"asom-data-template-chr.2","depends_on_id":"asom-data-template-chr","type":"parent-child","created_at":"2026-02-08T09:18:29.469917+01:00","created_by":"mcgrath"}]}
{"id":"asom-data-template-chr.3","title":"T003: Document CUR pipeline runbook (ITOH)","description":"Document operational runbook: load schedule, failure handling, retry logic, monitoring approach (deferred to Sprint 2 for alerting).","status":"open","priority":2,"issue_type":"task","assignee":"dev-agent","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:18:35.436771+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:18:35.436771+01:00","labels":["control:C-09","pdl:itoh"],"dependencies":[{"issue_id":"asom-data-template-chr.3","depends_on_id":"asom-data-template-chr","type":"parent-child","created_at":"2026-02-08T09:18:35.43803+01:00","created_by":"mcgrath"}]}
{"id":"asom-data-template-chr.4","title":"S001: Load CUR Parquet files into raw layer","acceptance_criteria":"AC1: CUR Parquet files loaded into raw_cur table with all columns preserved.\nAC2: Load is idempotent -- re-running does not duplicate data.\nAC3: Schema validation ensures expected columns present (line_item_usage_start_date, line_item_product_code, line_item_unblended_cost, etc).\nAC4: Null/empty handling documented and tested.\nAC5: Works against DuckDB (local) and Snowflake (DEV) via connector abstraction.","status":"in_progress","priority":1,"issue_type":"feature","assignee":"dev-agent","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:19:00.186506+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:26:33.339418+01:00","labels":["control:C-06","control:C-07","sprint:1","test:T1","test:T2","test:T5"],"dependencies":[{"issue_id":"asom-data-template-chr.4","depends_on_id":"asom-data-template-chr","type":"parent-child","created_at":"2026-02-08T09:19:00.189764+01:00","created_by":"mcgrath"}]}
{"id":"asom-data-template-chr.5","title":"S002: Transform CUR data into daily cost summary","acceptance_criteria":"AC1: Daily cost summary table aggregates unblended_cost by date and service.\nAC2: Handles partial days correctly (sum, not average).\nAC3: NULL costs treated as 0.00 with logged warning.\nAC4: Output schema: usage_date, service_name, daily_cost, record_count.\nAC5: Trend calculation: 7-day moving average of daily_cost per service.","status":"open","priority":1,"issue_type":"feature","assignee":"dev-agent","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:22:51.24586+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:22:51.24586+01:00","labels":["control:C-06","sprint:1","test:T1","test:T3"],"dependencies":[{"issue_id":"asom-data-template-chr.5","depends_on_id":"asom-data-template-chr","type":"parent-child","created_at":"2026-02-08T09:22:51.247076+01:00","created_by":"mcgrath"},{"issue_id":"asom-data-template-chr.5","depends_on_id":"asom-data-template-chr.4","type":"blocks","created_at":"2026-02-08T09:23:31.243714+01:00","created_by":"mcgrath"}]}
{"id":"asom-data-template-chr.6","title":"S003: Build cost analytics query layer","acceptance_criteria":"AC1: Top-N services by cost query (configurable N, default 10).\nAC2: Month-over-month cost change percentage per service.\nAC3: Cost anomaly detection: flag services with \u003e20% week-over-week increase.\nAC4: All queries work on DuckDB (local) and Snowflake (DEV).","status":"open","priority":2,"issue_type":"feature","assignee":"dev-agent","owner":"258467816+mcgrath-bpt@users.noreply.github.com","created_at":"2026-02-08T09:23:00.860377+01:00","created_by":"mcgrath","updated_at":"2026-02-08T09:23:00.860377+01:00","labels":["control:C-06","sprint:1","test:T1","test:T8"],"dependencies":[{"issue_id":"asom-data-template-chr.6","depends_on_id":"asom-data-template-chr","type":"parent-child","created_at":"2026-02-08T09:23:00.861663+01:00","created_by":"mcgrath"},{"issue_id":"asom-data-template-chr.6","depends_on_id":"asom-data-template-chr.5","type":"blocks","created_at":"2026-02-08T09:23:45.198996+01:00","created_by":"mcgrath"}]}
